<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon Carnet d'√âquitation üêé</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .horse-card.active { border: 3px solid #6366f1; background-color: #f5f3ff; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        body { background-color: #fdfbf7; padding-bottom: 80px; }
        .checklist-item input:checked + span { text-decoration: line-through; opacity: 0.6; }
    </style>
</head>
<body class="p-4 max-w-md mx-auto">

    <div id="home" class="tab-content active">
        <header class="text-center mb-6">
            <h1 class="text-2xl font-bold text-gray-800">Hello Cavali√®re ! üëã</h1>
            <div class="text-sm text-gray-600 mt-2 bg-white p-2 rounded-lg shadow-sm">
                üìç P√¥le Hippique de Montlaur : <span id="weather-text">14¬∞C - Beau temps ‚òÄÔ∏è</span>
            </div>
        </header>

        <div class="bg-indigo-600 text-white p-5 rounded-3xl shadow-lg mb-6 text-center">
            <p class="text-xs uppercase tracking-widest opacity-80 mb-1">Prochaine s√©ance dans</p>
            <div id="countdown" class="text-3xl font-black italic tracking-tight">--j --h --m</div>
        </div>

        <section class="mb-6">
            <h2 class="font-bold mb-3 text-gray-700">Quelle monture aujourd'hui ?</h2>
            <div class="flex overflow-x-auto space-x-3 pb-2" id="horse-list"></div>
        </section>

        <section class="bg-white p-5 rounded-2xl shadow-sm border border-gray-100 mb-6">
            <h2 class="font-bold mb-4 text-gray-700 flex items-center">
                <i class="fas fa-clipboard-check mr-2 text-indigo-500"></i> Rituel de pr√©paration
            </h2>
            <div class="space-y-4" id="checklist">
                <label class="checklist-item flex items-center space-x-3 text-gray-600">
                    <input type="checkbox" class="w-6 h-6 rounded-full border-gray-300 text-indigo-600 focus:ring-indigo-500"> 
                    <span>Grosse gratouille de bonjour</span>
                </label>
                <label class="checklist-item flex items-center space-x-3 text-gray-600">
                    <input type="checkbox" class="w-6 h-6 rounded-full border-gray-300 text-indigo-600 focus:ring-indigo-500"> 
                    <span>Pansage complet</span>
                </label>
                <label class="checklist-item flex items-center space-x-3 text-gray-600">
                    <input type="checkbox" class="w-6 h-6 rounded-full border-gray-300 text-indigo-600 focus:ring-indigo-500"> 
                    <span>Curer les pieds</span>
                </label>
                <hr class="border-gray-100">
                <label class="flex items-center space-x-3 text-indigo-700 font-bold">
                    <input type="checkbox" class="w-6 h-6 border-indigo-300 text-indigo-600" id="confirm-ride"> 
                    <span>S√©ance termin√©e ! Enregistrer ‚ú®</span>
                </label>
            </div>
        </section>
    </div>

    <div id="stats" class="tab-content">
        <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">Tes Statistiques üìä</h2>
        <div id="stats-container" class="space-y-3">
            </div>
        <div class="mt-8 p-4 bg-orange-50 rounded-xl border border-orange-100 text-orange-800 text-sm text-center">
            Bravo pour ta r√©gularit√© au P√¥le de Montlaur ! üêé
        </div>
    </div>

    <nav class="fixed bottom-4 left-4 right-4 bg-white/80 backdrop-blur-md border border-gray-200 rounded-2xl flex justify-around p-3 shadow-xl">
        <button onclick="showTab('home')" id="nav-home" class="flex flex-col items-center text-indigo-600 transition-colors">
            <i class="fas fa-horse-head text-xl"></i><span class="text-[10px] mt-1 font-bold">PR√âPA</span>
        </button>
        <button onclick="showTab('stats')" id="nav-stats" class="flex flex-col items-center text-gray-400 transition-colors">
            <i class="fas fa-chart-line text-xl"></i><span class="text-[10px] mt-1 font-bold">STATS</span>
        </button>
    </nav>

    <script>
        const horses = [
            {name: "Diva", icon: "‚≠ê"}, {name: "Bol√©ro", icon: "üéª"}, {name: "Frontera", icon: "üêé"}, 
            {name: "Jumper", icon: "ü¶ò"}, {name: "Noname", icon: "‚ùì"}, {name: "Bandolera", icon: "üíÉ"},
            {name: "Hacienda", icon: "üè°"}, {name: "Moon", icon: "üåô"}, {name: "Guappa", icon: "üéÄ"}, 
            {name: "Koda", icon: "üêª"}, {name: "Rififi", icon: "üå™Ô∏è"}
        ];

        let selectedHorse = "";

        // Initialisation Chevaux
        const horseList = document.getElementById('horse-list');
        horses.forEach(h => {
            const div = document.createElement('div');
            div.className = "horse-card flex-shrink-0 bg-white p-4 rounded-2xl shadow-sm text-center min-w-[90px] border border-gray-100 cursor-pointer transition-all";
            div.innerHTML = `<div class="text-2xl mb-1">${h.icon}</div><div class="font-bold text-xs uppercase tracking-tighter text-gray-700">${h.name}</div>`;
            div.onclick = () => {
                document.querySelectorAll('.horse-card').forEach(c => c.classList.remove('active', 'shadow-md'));
                div.classList.add('active', 'shadow-md');
                selectedHorse = h.name;
            };
            horseList.appendChild(div);
        });

        // Navigation
        function showTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            
            const isHome = tabId === 'home';
            document.getElementById('nav-home').classList.toggle('text-indigo-600', isHome);
            document.getElementById('nav-home').classList.toggle('text-gray-400', !isHome);
            document.getElementById('nav-stats').classList.toggle('text-indigo-600', !isHome);
            document.getElementById('nav-stats').classList.toggle('text-gray-400', isHome);

            if(tabId === 'stats') updateStatsUI();
        }

        // Enregistrement Stats
        document.getElementById('confirm-ride').addEventListener('change', function() {
            if(this.checked) {
                if(!selectedHorse) {
                    alert("Oups ! Choisis ton cheval d'abord üêé");
                    this.checked = false;
                    return;
                }
                let stats = JSON.parse(localStorage.getItem('horseStats')) || {};
                stats[selectedHorse] = (stats[selectedHorse] || 0) + 1;
                localStorage.setItem('horseStats', JSON.stringify(stats));
                alert(`S√©ance avec ${selectedHorse} enregistr√©e
